<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" type="text/css" href="/assets/css/style.css">
<link rel="stylesheet" type="text/css" href="/assets/css/main.css">
<link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css" media="all">
<link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.min.css" media="all">
<link rel="stylesheet" type="text/css" href="/assets/css/font-awesome.all.min.css" media="all">
<link rel="stylesheet" id="google-fonts-1-css" href="https://fonts.googleapis.com/css?family=Varela+Round%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2C400%2C400italic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic%7CHeebo%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2C400%2C400italic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic%7CAmatic+SC%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2C400%2C400italic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic%7CPT+Sans%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2C400%2C400italic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic%7CRoboto%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2C400%2C400italic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic%7CMontserrat%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2C400%2C400italic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic&amp;subset=hebrew&amp;ver=5.3" type="text/css" media="all">
<link rel="icon" href="/assets/images/favicon.ico" sizes="16x16">
<title>התנועה למשילות ודמוקרטיה - מדיה</title>
<title>The Rock (1996)</title>
<meta property="og:title" content="התנועה למשילות ודמוקרטיה - מדיה" />
<meta property="og:description" content="undefined" />
<meta property="og:image" content="http://meshilut.org/assets/images/logo.png" />

<script async src="https://www.googletagmanager.com/gtag/js?id=G-71Y9BT6T9G"></script>
<script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-71Y9BT6T9G');
        </script>
</head>
<body class="media">
<header id="head">
<div class="inner">
<div id="logo">
<a href="/">
<img width="120px" src="/assets/images/logo.png" />
</a>
</div>
<nav class="collapse navbar-collapse" id="mainMenu">
<ul class='navbar-nav'><li><a href="/about">מי אנחנו?</a></li>
<li><a href="/messages">הודעות התנועה</a></li>
<li><a href="/position-papers">ניירות עמדה ומחקרים</a></li>
<li class='nav-item dropdown'>
              <a>בתקשורת</a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item"  href="/posts">מאמרים</a><a class="dropdown-item"  href="/media">וידיאו</a><a class="dropdown-item"  href="/in-the-news">התנועה בחדשות</a>
              </div>
            </li>
<li><a href="/contact-us">צור קשר</a></li>
<li><a href="/upcoming-events">אירועים קרובים</a></li>
<li><a href="/join-us">להצטרפות</a></li>
<li><a href="/donations">לתרומה</a></li>
<li><a href="/en">English</a></li>
</ul>
</nav>
<div class="search-form">
<form action>
<input type="text" placeholder="חיפוש...">
<button><i class="fa fa-search"></i></button>
</form>
</div>
<i id="mobileMenuToggle" class="fas fa-bars"></i>
</div>
</header>
<main id="main">
<section class="title">
<h1>מדיה</h1>
</section>
<div id='items' ></div>
<script src="https://apis.google.com/js/api.js"></script>
<script>

function execute() {
gapi.client.setApiKey("AIzaSyCX2NtKvY609cF5lSCnDT7_DhFMrzTdi90");
gapi.client
        .load("https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest")
        .then(function() { console.log("GAPI client loaded for API"); },
              function(err) { console.error("Error loading GAPI client for API", err); })
        .then( function() {
            gapi.client.youtube.search.list({
                "part": [
                  "snippet,id"
                ],
                "channelId": "UCTYbGS4HxgYi2diMjfmmrFA",
                "maxResults": 1000
              })
                  .then(function(response) {
                        let container = document.getElementById('items');

                        response.result.items
                            .filter( i=> i.id.kind =="youtube#video")
                            .reverse()
                            .forEach(el => {
                                console.log(el);
                                let thumbnail = el.snippet.thumbnails.default.url;
                                let id = el.id.videoId;
                                let card = document.createElement('div');
                                card.className = 'result-card';
                                let image = document.createElement('img');
                                card.appendChild(image);
                                image.src = thumbnail;
                                let leftSection = document.createElement('div');
                                card.appendChild(leftSection);
                                let title = document.createElement('h2');
                                leftSection.appendChild(title);
                                let titleLink = document.createElement('a');
                                title.appendChild(titleLink);
                                titleLink.innerHTML = el.snippet.title;
                                let description = document.createElement('div');
                                leftSection.appendChild(description);
                                description.innerHTML = el.snippet.description;
                                titleLink.href = "https://www.youtube.com/watch?v="+id;
                                container.appendChild( card ); 
                        });  
                    },
                    function(err) { console.error("Execute error", err); });
        })

}


gapi.load("client:auth2", function() {
        gapi.auth2.init({client_id: "251295461423-96uq27f68enfphmiaovl2m2ds11do030.apps.googleusercontent.com"});
        execute();
});
</script>
</main>
<script>
        // fix for github pages:
        let devPatterns = [/(.*)github.io\/([^/]*)/ ];
        devPatterns.forEach(function(devPattern){
            let matchGitHubPages = window.location.href.match(devPattern);
            if ( matchGitHubPages ) {
                document.querySelectorAll('[href]').forEach(s=>{
                    if( s.href ) { 
                        s.href = s.href.replace( ( location.origin + location.pathname), matchGitHubPages[0]+'/');
                    }
                });
        
                document.querySelectorAll('[src]').forEach( s => {
                    if( s.src ) { 
                        s.src = s.src.replace( ( location.origin + location.pathname), matchGitHubPages[0] + '/' );
                    }
                });
            }
        });

        document.getElementById('mobileMenuToggle').onclick = btn => {
            document.getElementById('mainMenu').classList.toggle("open");
        }
      </script>
</body>
</html>